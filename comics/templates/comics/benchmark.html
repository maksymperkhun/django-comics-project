<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>DB Parallel Benchmark</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-5">
    <div class="card shadow">
        <div class="card-header bg-primary text-white">
            <h2>üöÄ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å (–ë–î)</h2>
        </div>
        <div class="card-body">
            <p class="lead">
                –¶–µ–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤–∏–∫–æ–Ω—É—î —Å–µ—Ä—ñ—é –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (`SELECT COUNT(*) FROM comic`),
                –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ä—ñ–∑–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—Ç–æ–∫—ñ–≤ (Threads).
            </p>

            <form method="post" class="row g-3 align-items-end mb-4 border-bottom pb-4">
                {% csrf_token %}
                <div class="col-md-4">
                    <label for="total_requests" class="form-label">–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—ñ–≤ (Batch Size):</label>
                    <input type="number" class="form-control" id="total_requests" name="total_requests"
                           value="{{ last_requests|default:200 }}" min="10" max="1000">
                </div>
                <div class="col-md-3">
                    <button type="submit" class="btn btn-danger w-100">
                        üî• –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç
                    </button>
                </div>
            </form>

            {% if chart %}
                <div class="alert alert-success">–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ!</div>
                <div>
                    {{ chart|safe }}
                </div>
                <div class="mt-3">
                    <h5>–ê–Ω–∞–ª—ñ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤:</h5>
                    <ul>
                        <li>–Ø–∫—â–æ –≥—Ä–∞—Ñ—ñ–∫ –ø–∞–¥–∞—î –≤–Ω–∏–∑ ‚Äî –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º –ø—Ä–∞—Ü—é—î –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ (I/O operations).</li>
                        <li>–Ø–∫—â–æ –≥—Ä–∞—Ñ—ñ–∫ –≤–∏—Ä—ñ–≤–Ω—é—î—Ç—å—Å—è ‚Äî –¥–æ—Å—è–≥–Ω—É—Ç–æ –ª—ñ–º—ñ—Ç—É –ø—ñ–¥–∫–ª—é—á–µ–Ω—å –¥–æ –ë–î –∞–±–æ –ø—Ä–æ–ø—É—Å–∫–Ω–æ—ó –∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ –∫–∞–Ω–∞–ª—É.</li>
                        <li>–Ø–∫—â–æ –≥—Ä–∞—Ñ—ñ–∫ –π–¥–µ –≤–≥–æ—Ä—É ‚Äî –Ω–∞–∫–ª–∞–¥–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Ç–æ–∫—ñ–≤ (Context Switching) –ø–µ—Ä–µ–≤–∏—â—É—é—Ç—å –≤–∏–≥–æ–¥—É.</li>
                    </ul>
                </div>
            {% else %}
                <div class="text-center text-muted py-5">
                    –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç", —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –≥—Ä–∞—Ñ—ñ–∫ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —á–∞—Å—É –≤—ñ–¥ –ø–æ—Ç–æ–∫—ñ–≤.
                </div>
            {% endif %}
        </div>
    </div>

    <div class="text-center mt-3">
        <a href="/dashboard/plotly/" class="btn btn-outline-secondary">‚Üê –ù–∞–∑–∞–¥ –¥–æ –î–∞—à–±–æ—Ä–¥—É</a>
    </div>
</body>
</html>